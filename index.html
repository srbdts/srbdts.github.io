<html>
  <head>
    <title>Gesture Interactions - A-Frame & AR.js</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="styles.css">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
    	AFRAME.registerComponent('markerhandler-a', {

    init: function() {
        const animatedMarker = document.querySelector("#animated-marker-a");
        const aEntity = document.querySelector("#animated-model");
        var n_touches = 0;

        // every click, we make our model grow in size :)
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
            	n_touches += 1;
                if ((n_touches % 4) == 0 ) {
                	n_touches = 0;
                	location.href = './opdrachten/opdracht_1.html';
            }
            }
        });
}});
    </script>
    <script>
    	AFRAME.registerComponent('markerhandler-b', {

    init: function() {
        const animatedMarker = document.querySelector("#animated-marker-b");
        const aEntity = document.querySelector("#animated-model");
        var n_touches = 0;

        // every click, we make our model grow in size :)
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
            	n_touches += 1;
                if ((n_touches % 4) == 0 ) {
                	n_touches = 0;
                	location.href = './opdrachten/opdracht_2.html';
            }
            }
        });
}});
    </script>
    <script>
    	AFRAME.registerComponent('markerhandler-c', {

    init: function() {
        const animatedMarker = document.querySelector("#animated-marker-c");
        const aEntity = document.querySelector("#animated-model");
        var n_touches = 0;

        // every click, we make our model grow in size :)
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
            	n_touches += 1;
                if ((n_touches % 4) == 0 ) {
                	n_touches = 0;
                	location.href = './opdrachten/opdracht_3.html';
            }
            }
        });
}});
    </script>
    <script>
    	AFRAME.registerComponent('markerhandler-d', {

    init: function() {
        const animatedMarker = document.querySelector("#animated-marker-d");
        const aEntity = document.querySelector("#animated-model");
        var n_touches = 0;

        // every click, we make our model grow in size :)
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
            	n_touches += 1;
                if ((n_touches % 4) == 0 ) {
                	n_touches = 0;
                	location.href = './opdrachten/opdracht_4.html';
            }
            }
        });
}});
    </script>
    <script>
    	AFRAME.registerComponent('markerhandler-e', {

    init: function() {
        const animatedMarker = document.querySelector("#animated-marker-e");
        const aEntity = document.querySelector("#animated-model");
        var n_touches = 0;

        // every click, we make our model grow in size :)
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
            	n_touches += 1;
                if ((n_touches % 4) == 0 ) {
                	n_touches = 0;
                	location.href = './opdrachten/opdracht_5.html';
            }
            }
        });
}});
    </script>
    <script src="aframe-multisrc-component.js"></script>
  </head>

  <body>
<a-scene
  arjs
  embedded
  renderer="logarithmicDepthBuffer: true;"
  vr-mode-ui="enabled: false"
  gesture-detector
  id="scene"
>
  <a-assets>
    <a-asset-item
      id="ghost"
      src="./assets/cute_ghost/scene.gltf"
    >
    </a-asset-item>
  </a-assets>

  <a-marker markerhandler-a emitevents="true" cursor="rayOrigin: mouse" id="animated-marker-a" type="pattern" url="assets/A.patt">
    <a-entity
      id="animated-model"
      gltf-model="#ghost"
      position="0 0 0"
      rotation="-60 0 0"
      scale="0.5 0.5 0.5"
    ></a-entity>
  </a-marker>

    <a-marker markerhandler-b emitevents="true" cursor="rayOrigin: mouse" id="animated-marker-b" type="pattern" url="assets/B.patt">
    <a-entity
      id="animated-model"
      gltf-model="#ghost"
      position="0 0 0"
      rotation="-60 0 0"
      scale="0.5 0.5 0.5"
    ></a-entity>
  </a-marker>

    <a-marker markerhandler-c emitevents="true" cursor="rayOrigin: mouse" id="animated-marker-c" type="pattern" url="assets/C.patt">
    <a-entity
      id="animated-model"
      gltf-model="#ghost"
      position="0 0 0"
      rotation="-60 0 0"
      scale="0.5 0.5 0.5"
    ></a-entity>
  </a-marker>

    <a-marker markerhandler-d emitevents="true" cursor="rayOrigin: mouse" id="animated-marker-d" type="pattern" url="assets/D.patt">
    <a-entity
      id="animated-model"
      gltf-model="#ghost"
      position="0 0 0"
      rotation="-60 0 0"
      scale="0.5 0.5 0.5"
    ></a-entity>
  

    <a-marker markerhandler-f emitevents="true" cursor="rayOrigin: mouse" id="animated-marker-f" type="pattern" url="assets/F.patt">
    <a-entity
      id="animated-model"
      gltf-model="#ghost"
      position="0 0 0"
      rotation="-60 0 0"
      scale="0.5 0.5 0.5"
    ></a-entity>
  </a-marker>
  
  </a-marker>
  
  
  
  

  
  <a-entity camera></a-entity>
</a-scene>
</body>
</html>
