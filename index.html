<html>
  <head>
    <title>Gesture Interactions - A-Frame & AR.js</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="styles.css">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
    	AFRAME.registerComponent('markerhandler', {

    init: function() {
        const animatedMarker = document.querySelector("#animated-marker");
        const aEntity = document.querySelector("#animated-model");

        // every click, we make our model grow in size :)
        animatedMarker.addEventListener('click', function(ev, target){
            const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
            if (aEntity && intersectedElement === aEntity) {
                const scale = aEntity.getAttribute('scale');
                Object.keys(scale).forEach((key) => scale[key] = scale[key] + 0.1);
                aEntity.setAttribute('scale', scale);
            }
        });
}});
    </script>
    <script src="aframe-multisrc-component.js"></script>
  </head>

  <body>
<a-scene
  arjs
  embedded
  renderer="logarithmicDepthBuffer: true;"
  vr-mode-ui="enabled: false"
  gesture-detector
  id="scene"
>
  <a-assets>
    <a-asset-item
      id="ghost"
      src="./assets/cute_ghost/scene.gltf"
    >
    </a-asset-item>
  </a-assets>

  <a-marker markerhandler emitevents="true" cursor="rayOrigin: mouse" id="animated-marker" type="pattern" url="assets/A.patt">
    <a-entity
      id="animated-model"
      gltf-model="#ghost"
      position="0 0 0"
      rotation="-60 0 0"
      scale="0.5 0.5 0.5"
    ></a-entity>
  </a-marker>
  

  
  <a-entity camera></a-entity>
</a-scene>
</body>
</html>
